name: Deploy Release

# ðŸ‘‡ This controls what you see in the Actions list
run-name: Deploy -> ${{ inputs.region }}

on:
  workflow_dispatch:
    inputs:
      region:
        description: Select deployment region
        required: true
        type: choice
        options:
          - prod-east
          - prod-west
          - prod-south

jobs:
  approval:
    name: approval-gate-${{ inputs.region }}
    runs-on: ubuntu-latest
    steps:
      - name: Approval step
        run: |
          echo "Approval granted for region: ${{ inputs.region }}"
          echo "Version: ${{ github.ref_name }}"

  deploy:
    name: deploy-${{ inputs.region }} / deploy
    runs-on: ubuntu-latest
    needs: approval
    steps:
      - name: Deploy application
        run: |
          echo "Deploying version: ${{ github.ref_name }}"
          echo "Deploying to region: ${{ inputs.region }}"
